<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on &lt;{ğŸ˜}&gt;</title>
        <link>https://jyp-on.dev/posts/</link>
        <description>Recent content in Posts on &lt;{ğŸ˜}&gt;</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
        <lastBuildDate>Fri, 15 Sep 2023 23:16:00 -0600</lastBuildDate>
        <atom:link href="https://jyp-on.dev/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>ì§€ì—°ë¡œë”©, ì¦‰ì‹œë¡œë”©ì´ë€?</title>
            <link>https://jyp-on.dev/posts/2023/09/%EC%A7%80%EC%97%B0%EB%A1%9C%EB%94%A9-%EC%A6%89%EC%8B%9C%EB%A1%9C%EB%94%A9%EC%9D%B4%EB%9E%80/</link>
            <pubDate>Fri, 15 Sep 2023 23:16:00 -0600</pubDate>
            
            <guid>https://jyp-on.dev/posts/2023/09/%EC%A7%80%EC%97%B0%EB%A1%9C%EB%94%A9-%EC%A6%89%EC%8B%9C%EB%A1%9C%EB%94%A9%EC%9D%B4%EB%9E%80/</guid>
            <description>Fetch Type ì„¤ëª… ì§€ì—°ë¡œë”© (LAZY) ì—°ê´€ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì ì ˆí•œ SELECT SQLì„ ì‹¤í–‰ ì¦‰ì‹œë¡œë”© (EAGER) ë©”ì¸ ê°ì²´ ì¡°íšŒì‹œ ê°ì²´ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ì—¬ ì—°ê´€ëœ ê°ì²´ ì „ë¶€ SELECT ì§€ì—°ë¡œë”©ì„ ì˜ˆë¥¼ ë“¤ì–´ Memberì— ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ëœ í…Œì´ë¸”ì´ Team, Orderì´ ìˆë‹¤ê³  ì¹˜ì.
// ì²« ì¡°íšŒ ì‹œì ì— SELECT MEMBER SQLì„ ë‚ ë¦¬ê³  Member member = jpa.find(Member.class, memberId); Team team = member.getTeam(); team.getTeamName(); // ì´ ì‹œì ì— SELECT TEAM SQLì„ ë‚ ë¦°ë‹¤. ì¦‰ì‹œë¡œë”© Example
// ì²« ì¡°íšŒ ì‹œì ì— SELECT MEMBER, TEAM, ORDER SQLì„ ë‚ ë¦°ë‹¤.</description>
            <content type="html"><![CDATA[<table>
<thead>
<tr>
<th style="text-align:left">Fetch Type</th>
<th style="text-align:left">ì„¤ëª…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ì§€ì—°ë¡œë”© <strong>(LAZY)</strong></td>
<td style="text-align:left">ì—°ê´€ëœ ê°ì²´ë¥¼ <strong>ì‚¬ìš©</strong>í•˜ëŠ” ì‹œì ì— ì ì ˆí•œ SELECT SQLì„ ì‹¤í–‰</td>
</tr>
<tr>
<td style="text-align:left">ì¦‰ì‹œë¡œë”© <strong>(EAGER)</strong></td>
<td style="text-align:left">ë©”ì¸ ê°ì²´ ì¡°íšŒì‹œ ê°ì²´ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ì—¬ ì—°ê´€ëœ ê°ì²´ <strong>ì „ë¶€</strong> SELECT</td>
</tr>
</tbody>
</table>
<p><strong>ì§€ì—°ë¡œë”©</strong>ì„ ì˜ˆë¥¼ ë“¤ì–´ Memberì— ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ëœ í…Œì´ë¸”ì´ Team, Orderì´ ìˆë‹¤ê³  ì¹˜ì.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// ì²« ì¡°íšŒ ì‹œì ì— SELECT MEMBER SQLì„ ë‚ ë¦¬ê³ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Member member <span style="color:#f92672">=</span> jpa<span style="color:#f92672">.</span><span style="color:#a6e22e">find</span><span style="color:#f92672">(</span>Member<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> memberId<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Team team <span style="color:#f92672">=</span> member<span style="color:#f92672">.</span><span style="color:#a6e22e">getTeam</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>team<span style="color:#f92672">.</span><span style="color:#a6e22e">getTeamName</span><span style="color:#f92672">();</span> <span style="color:#75715e">// ì´ ì‹œì ì— SELECT TEAM SQLì„ ë‚ ë¦°ë‹¤.
</span></span></span></code></pre></div><p><strong>ì¦‰ì‹œë¡œë”©</strong> Example</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// ì²« ì¡°íšŒ ì‹œì ì— SELECT MEMBER, TEAM, ORDER SQLì„ ë‚ ë¦°ë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Member member <span style="color:#f92672">=</span> jpa<span style="color:#f92672">.</span><span style="color:#a6e22e">find</span><span style="color:#f92672">(</span>Member<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> memberId<span style="color:#f92672">);</span> 
</span></span></code></pre></div><p>ì¦‰ì‹œë¡œë”©ì€ í•œë²ˆ ì¡°íšŒì‹œì— ëª¨ë“  ê°ì²´ê°€ í•„ìš”í•œ ìƒí™©ì—ì„œ ì“°ì¼ ìˆ˜ ìˆìœ¼ë©°<br>
ì´ëŸ° ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì§€ì—°ë¡œë”©ì„ í†µí•´ ë¶ˆí•„ìš”í•œ SQLì„ ì¤„ì—¬ì•¼ í•œë‹¤.</p>
]]></content>
        </item>
        
        <item>
            <title>Spring Boot JPQL DTO Mapping</title>
            <link>https://jyp-on.dev/posts/2023/09/spring-boot-jpql-dto-mapping/</link>
            <pubDate>Fri, 08 Sep 2023 22:16:00 -0600</pubDate>
            
            <guid>https://jyp-on.dev/posts/2023/09/spring-boot-jpql-dto-mapping/</guid>
            <description>jpaë¥¼ ì‚¬ìš©í• ë•Œ jpa repositoryì—ì„œ return ì„ DTOë¡œ ë³€í™˜í•´ì„œ ë°›ì„ ìˆ˜ ìˆë‹¤.
jpql select ë¶€ë¶„ì—ì„œ DTOë¡œ ì‚¬ìš©í•  ê°ì²´ë¥¼ ìƒì„± í•´ì¤˜ì•¼í•œë‹¤. ì£¼ì˜í•  ì ì€ DTO ìƒì„±ì‹œ íŒ¨í‚¤ì§€ ì´ˆë°˜ë¶€ë¶„ë¶€í„° ì ì–´ì¤˜ì•¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
ë¨¼ì € Person ê°ì²´ì™€ PersonDTO ê°ì²´ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.
Person ê°ì²´ì—ëŠ” name, age, email, id,
PersonDTO ê°ì²´ì—ëŠ” name, age
ì´ê³  ë§Œì•½ ìµœì†Œ ë‚˜ì´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ê·¸ ë‚˜ì´ ì´ìƒì˜ Person ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê³  ì‹¶ë‹¤ë©´ JPQLì„ ì•„ë˜ì™€ ê°™ì´ êµ¬ì„± í•´ì•¼ í•œë‹¤.
@Query(value = &amp;#34;SELECT &amp;#34; + &amp;#34;new com.</description>
            <content type="html"><![CDATA[<p>jpaë¥¼ ì‚¬ìš©í• ë•Œ jpa repositoryì—ì„œ return ì„ <strong>DTO</strong>ë¡œ ë³€í™˜í•´ì„œ ë°›ì„ ìˆ˜ ìˆë‹¤.</p>
<p>jpql select ë¶€ë¶„ì—ì„œ DTOë¡œ ì‚¬ìš©í•  ê°ì²´ë¥¼ ìƒì„± í•´ì¤˜ì•¼í•œë‹¤.
ì£¼ì˜í•  ì ì€ DTO ìƒì„±ì‹œ íŒ¨í‚¤ì§€ ì´ˆë°˜ë¶€ë¶„ë¶€í„° ì ì–´ì¤˜ì•¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.</p>
<p>ë¨¼ì € Person ê°ì²´ì™€ PersonDTO ê°ì²´ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.</p>
<p><code>Person ê°ì²´ì—ëŠ” name, age, email, id</code>,<br>
<code>PersonDTO ê°ì²´ì—ëŠ” name, age</code><br>
ì´ê³  ë§Œì•½ ìµœì†Œ ë‚˜ì´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ê·¸ ë‚˜ì´ ì´ìƒì˜ Person ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê³  ì‹¶ë‹¤ë©´ JPQLì„ ì•„ë˜ì™€ ê°™ì´ êµ¬ì„± í•´ì•¼ í•œë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Query</span><span style="color:#f92672">(</span>value <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;SELECT &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;new com.a.b.person.dto.PersonDTO(p.name, p.age) &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;FROM Person p &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;WHERE p.age &gt;= :minAge&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>PersonDTO<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getDTOByAge</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@Param</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;minAge&#34;</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">int</span> minAge<span style="color:#f92672">);</span>
</span></span></code></pre></div><p>List<!-- raw HTML omitted --> ë¡œ ë°›ì•„ì˜¨ ì´ìœ ëŠ” ì—¬ëŸ¬ê°œì˜ ë°ì´í„°ê°€ ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.<br>
ë§Œì•½ ê·¸ëƒ¥ PersonDTOë¡œ Return Typeì„ ì§€ì •í•˜ì˜€ëŠ”ë° 2ê°œ ì´ìƒì˜ ê²°ê³¼ê°€ ìˆìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.</p>
<p>DTO ê°ì²´ì— <strong>Json Auto Detect</strong> ì–´ë…¸í…Œì´ì…˜ì´ ì—†ìœ¼ë©´ private field ì ‘ê·¼ì„ ëª»í•´ì„œ json ë³€í™˜ì´ ì•ˆëœë‹¤.<br>
ë˜í•œ new ë¡œ ìƒì„±ì„ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— AllArgsConstructorë„ ë„£ì–´ì£¼ì.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@AllArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@JsonAutoDetect</span><span style="color:#f92672">(</span>fieldVisibility <span style="color:#f92672">=</span> JsonAutoDetect<span style="color:#f92672">.</span><span style="color:#a6e22e">Visibility</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ANY</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PersonDTO</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Spring Boot [NaverCloud ObjectStorage] ì‚¬ìš©ë²•</title>
            <link>https://jyp-on.dev/posts/2023/09/spring-boot-navercloud-objectstorage-%EC%82%AC%EC%9A%A9%EB%B2%95/</link>
            <pubDate>Sat, 02 Sep 2023 16:14:00 -0600</pubDate>
            
            <guid>https://jyp-on.dev/posts/2023/09/spring-boot-navercloud-objectstorage-%EC%82%AC%EC%9A%A9%EB%B2%95/</guid>
            <description>ì´ë²ˆì— ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ì˜ìƒ ë° JSON íŒŒì¼ì„ object storageì— ì €ì¥í•˜ëŠ” ì„œë¹„ìŠ¤ ë¡œì§ì„ ì¶”ê°€í•˜ê²Œ ë˜ì—ˆë‹¤
ì„¤ëª…ì— ì•ì„œ Amazonì˜ S3ê°€ ì•„ë‹Œ Ncloudì˜ objectStorageë¥¼ ì„ ì •í•œ ì´ìœ ëŠ” í¬ê²Œ 4ê°€ì§€ë‹¤.
êµ­ë‚´ì„œë¹„ìŠ¤ë¼ ë¬¸ì„œì½ê¸°ê°€ ë§¤ìš°í¸í•¨.
ìµœê·¼ Ncloudì˜ Server, DB ë“±ë“± ì‚¬ìš©í•´ë´ì„œ ìµìˆ™í•¨.
AWS ê³¼ê¸ˆì— ë‹¹í•œì ì´ìˆìŒ.
objectstorage 1ì£¼ê°„ ì‚¬ìš©í•´ë´¤ëŠ”ë° íŒŒì¼ í¬ê¸°ê°€ ì–¼ë§ˆì•ˆë˜ëŠ”ì§€ ì•„ì§ê¹Œì§€ 0ì› ì²­êµ¬ë¨. (ë§¤ìš°ìŒˆ)
Amazonì˜ S3ë‘ ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ê³  êµ­ë‚´ì„œë¹„ìŠ¤ë¼ Docsë¥¼ ì½ì„ë•Œ ì¢€ ë” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤ ë‚˜ëŠ” spring boot ì¦‰ java ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì€ Docsë¥¼ ì°¸ê³ í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ìŒ</description>
            <content type="html"><![CDATA[<p>ì´ë²ˆì— ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ì˜ìƒ ë° JSON íŒŒì¼ì„ object storageì— ì €ì¥í•˜ëŠ” ì„œë¹„ìŠ¤ ë¡œì§ì„ ì¶”ê°€í•˜ê²Œ ë˜ì—ˆë‹¤</p>
<p>ì„¤ëª…ì— ì•ì„œ Amazonì˜ S3ê°€ ì•„ë‹Œ Ncloudì˜ objectStorageë¥¼ ì„ ì •í•œ ì´ìœ ëŠ” í¬ê²Œ 4ê°€ì§€ë‹¤.</p>
<ol>
<li>
<p>êµ­ë‚´ì„œë¹„ìŠ¤ë¼ ë¬¸ì„œì½ê¸°ê°€ ë§¤ìš°í¸í•¨.</p>
</li>
<li>
<p>ìµœê·¼ Ncloudì˜ Server, DB ë“±ë“± ì‚¬ìš©í•´ë´ì„œ ìµìˆ™í•¨.</p>
</li>
<li>
<p>AWS ê³¼ê¸ˆì— ë‹¹í•œì ì´ìˆìŒ.</p>
</li>
<li>
<p>objectstorage 1ì£¼ê°„ ì‚¬ìš©í•´ë´¤ëŠ”ë° íŒŒì¼ í¬ê¸°ê°€ ì–¼ë§ˆì•ˆë˜ëŠ”ì§€ ì•„ì§ê¹Œì§€ 0ì› ì²­êµ¬ë¨. (ë§¤ìš°ìŒˆ)</p>
</li>
</ol>
<p>Amazonì˜ S3ë‘ ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ê³  êµ­ë‚´ì„œë¹„ìŠ¤ë¼ Docsë¥¼ ì½ì„ë•Œ ì¢€ ë” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤
ë‚˜ëŠ” spring boot ì¦‰ java ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì€ Docsë¥¼ ì°¸ê³ í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ìŒ</p>
<p><a href="https://guide.ncloud-docs.com/docs/storage-storage-8-1">Object Stroage Docs</a></p>
<p><a href="https://guide.ncloud-docs.com/docs/storage-storage-8-1">Javaìš© AWS SDK Guide</a></p>
<p>aws s3ë‘ì€ ë‹¤ë¥´ê²Œ ë¦¬ì†ŒìŠ¤ê°€ ì¢€ ë¶€ì¡±í•˜ì—¬ ê°œì¸ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•˜ì—¬ì„œ ì‚¬ìš©í•˜ì˜€ëŠ”ë° ì§€ê¸ˆë¶€í„° ì–´ë–»ê²Œ ì‚¬ìš©í•˜ì˜€ëŠ”ì§€ ì„¤ëª…í•˜ë ¤ê³  í•œë‹¤</p>
<p>ë¨¼ì € object storageë¥¼ ì‚¬ìš©ì‹ ì²­í•˜ê³  bucketì„ ë§Œë“¤ì–´ì•¼í•œë‹¤.</p>
<p>ë‚˜ëŠ” rehabì´ë¼ëŠ” bucketì„ ë§Œë“¤ì–´ë†“ì•˜ë‹¤.</p>
<p>ì¶”ê°€ì ìœ¼ë¡œ jsonì´ë‘ video íŒŒì¼ì„ ì—…ë¡œë“œí•  í´ë”ë¥¼ êµ¬ë¶„í•´ë†“ì•˜ë‹¤. (ì´ê±´ ììœ )</p>
<p><img src="/NaverCloud-ObjectStroage/img1.png" alt="Bucket Management"></p>
<p><strong>gradle ì„¤ì •</strong></p>
<p>ë‚˜ëŠ” spring boot 2.7.14, jdk 11ì„ ì‚¬ìš©í•˜ì˜€ê³  ë°‘ì— ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ì˜€ë‹¤</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gradle" data-lang="gradle"><span style="display:flex;"><span>implementation <span style="color:#e6db74">&#39;com.amazonaws:aws-java-sdk-s3:1.11.238&#39;</span>
</span></span></code></pre></div><h2 id="1-ncloudì—ì„œ-access-key-secret-key-ë°œê¸‰">1. ncloudì—ì„œ access-key, secret-key ë°œê¸‰</h2>
<p>ë§ˆì´í˜ì´ì§€ -&gt; ì¸ì¦í‚¤ ê´€ë¦¬ (ì—¬ê¸°ì„œ ì¸ì¦í‚¤ë¥¼ ë°œê¸‰í•˜ë©´ ëœë‹¤)</p>
<h2 id="2-applicationyml-ì‘ì„±">2. application.yml ì‘ì„±</h2>
<p>ë°œê¸‰ë°›ì€ í‚¤ë¥¼ ì‘ì„±í•´ì£¼ê³  ì‚¬ìš©í•  bucketì´ë¦„ì„ ì¨ì£¼ë©´ëœë‹¤.</p>
<p>gitê°™ì€ ê³µìœ ì €ì¥ì†Œì— ì˜¬ë¦´êº¼ë¼ë©´ ë³´ì•ˆìƒ ì´íŒŒì¼ì„ ìˆ¨ê²¨ì£¼ì–´ì•¼ í•œë‹¤.</p>
<p>í•„ìëŠ” ë”°ë¡œ application-secret ì„ ë”°ë¡œë§Œë“¤ì–´ì„œ prifilesë¡œ ë¶ˆëŸ¬ì™”ë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">cloud</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">aws</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">credentials</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">access-key</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">secret-key</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">stack</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">auto</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">region</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">static</span>: <span style="color:#ae81ff">ap-northeast-2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">s3</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">endpoint</span>: <span style="color:#ae81ff">https://kr.object.ncloudstorage.com</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">bucket</span>: <span style="color:#e6db74">&#34;rehab&#34;</span>
</span></span></code></pre></div><h2 id="3-s3client-ì„¤ì •íŒŒì¼-ë§Œë“¤ê¸°">3. S3Client ì„¤ì •íŒŒì¼ ë§Œë“¤ê¸°</h2>
<p>@Configurationì„ í†µí•´ ì„¤ì •íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤. (Configurationì€ ì‹±ê¸€í†¤ì„ ìœ ì§€í•´ì¤˜ì„œ ì„¤ì •íŒŒì¼ì— ë§ì´ì“°ì¸ë‹¤ê³ í•¨)</p>
<p>ì™¸ë¶€ì—ì„œ S3Clientì˜ getAmazonS3 ë©”ì†Œë“œë¥¼ ì´ìš©í•´ s3 ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ Bean ë“±ë¡ í•´ì£¼ì—ˆë‹¤.</p>
<p>Amazon s3ì™€ ì—°ë™ë˜ê²Œ ë§Œë“¤ì–´ì„œ ê·¸ëŸ°ì§€ AmazonS3ë¥¼ ë°˜í™˜í•´ì„œ ì‚¬ìš©í•œë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">S3Client</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;${cloud.aws.credentials.access-key}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String accessKey<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;${cloud.aws.credentials.secret-key}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String secretKey<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;${cloud.aws.s3.endpoint}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String endPoint<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;${cloud.aws.region.static}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String regionName<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> AmazonS3 <span style="color:#a6e22e">getAmazonS3</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> AmazonS3ClientBuilder<span style="color:#f92672">.</span><span style="color:#a6e22e">standard</span><span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">withEndpointConfiguration</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> AwsClientBuilder<span style="color:#f92672">.</span><span style="color:#a6e22e">EndpointConfiguration</span><span style="color:#f92672">(</span>endPoint<span style="color:#f92672">,</span> regionName<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">withCredentials</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> AWSStaticCredentialsProvider<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> BasicAWSCredentials<span style="color:#f92672">(</span>accessKey<span style="color:#f92672">,</span> secretKey<span style="color:#f92672">)))</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="4-uploadapi-êµ¬í˜„">4. UploadAPI êµ¬í˜„</h2>
<p>í•„ìì˜ ì„œë¹„ìŠ¤ë¡œì§ ì¤‘ uploadë¶€ë¶„ë§Œ ë”°ë¡œ ê°€ì ¸ì™”ë‹¤.</p>
<p>ë‚˜ëŠ” MultipartFileë“¤ì„ ë°›ì•„ Fileë¡œ ë³€í™˜ í›„ S3ì— ê²½ë¡œë¥¼ ì§€ì •í›„ ì €ì¥í•´ì¤€ë‹¤. (Fileë¡œ ë³€í™˜í•´ì•¼ ì €ì¥í• ìˆ˜ìˆìŒ)</p>
<p>Pathì™€ URLì´ ê°ê° ì¡´ì¬í•˜ëŠ” ì´ìœ ëŠ” PathëŠ” Object Stroageì— ì‹¤ì œë¡œ ì €ì¥ë˜ëŠ” ê²½ë¡œì´ê³  URLì€ ì‚¬ìš©ìê°€ ì ‘ê·¼ í•˜ì—¬ íŒŒì¼ì„ ì–»ì„ ìˆ˜ ìˆëŠ” ê²½ë¡œì´ë‹¤.</p>
<p>í•„ìëŠ” Pathì™€ URL ë‘˜ë‹¤ DBì— ì €ì¥í•˜ì—¬ PathëŠ” íŒŒì¼ì„ object storageì—ì„œ ì‚­ì œí•  ë•Œ ì‚¬ìš©í•˜ê³  URLì€ Clientì—ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” URLì„ ì£¼ê¸°ìœ„í•´ ì‚¬ìš©í•œë‹¤. ì°¸ê³ ë¡œ URLì€ object storageì—ì„œ íŒŒì¼ ìƒì„±ì‹œ ë§Œë“¤ì–´ì£¼ëŠ”ë° ë§Œë“œëŠ” ë°©ì‹ì´ ì¼ì •í•´ì„œ í•„ìê°€ ë”°ë¡œ URLì„ ì˜ˆì¸¡í•˜ì—¬ DBì— ì €ì¥í•œë‹¤.</p>
<p>Pathì—ì„œ video/, json/ ì´ ê²½ë¡œê°€ ì•„ê¹Œë§Œë“  bucketì— ë§Œë“  í´ë”ë¼ê³  ë³´ë©´ëœë‹¤.</p>
<p>ì¶”ê°€ì ìœ¼ë¡œ uuidë¥¼ ë§Œë“¤ì–´ íŒŒì¼ëª… ì•ì— ë¶™ì—¬ë†“ì•˜ë‹¤. ê°™ì€ íŒŒì¼ì´ë¦„ì´ ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ë‚˜ê¸°ë•Œë¬¸.</p>
<p>ì „ë‹¬ë°›ì€ ì´ë¯¸ì§€ë“¤ì€ springì´ ì •í•´ì§„ ì„ì‹œì €ì¥ì†Œì— ì €ì¥í•˜ëŠ”ë° file uploadê°€ ëë‚˜ë©´ ì‚­ì œì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆë‹¤.Â </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> UploadFileDTO <span style="color:#a6e22e">uploadFileToS3</span><span style="color:#f92672">(</span>MultipartFile videoFile<span style="color:#f92672">,</span> MultipartFile jsonFile<span style="color:#f92672">,</span> Program program<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    AmazonS3 s3 <span style="color:#f92672">=</span> s3Client<span style="color:#f92672">.</span><span style="color:#a6e22e">getAmazonS3</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    UUID uuid <span style="color:#f92672">=</span> UUID<span style="color:#f92672">.</span><span style="color:#a6e22e">randomUUID</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    String videoFileName <span style="color:#f92672">=</span> uuid <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;_&#34;</span> <span style="color:#f92672">+</span> videoFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getOriginalFilename</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    String jsonFileName <span style="color:#f92672">=</span> uuid <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;_&#34;</span> <span style="color:#f92672">+</span> jsonFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getOriginalFilename</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    File uploadVideoFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    File uploadJsonFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        uploadVideoFile <span style="color:#f92672">=</span> convertMultipartFileToFile<span style="color:#f92672">(</span>videoFile<span style="color:#f92672">,</span> videoFileName<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        uploadJsonFile <span style="color:#f92672">=</span> convertMultipartFileToFile<span style="color:#f92672">(</span>jsonFile<span style="color:#f92672">,</span> jsonFileName<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String guideVideoObjectPath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;video/&#34;</span> <span style="color:#f92672">+</span> videoFileName<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        String jsonObjectPath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;json/&#34;</span> <span style="color:#f92672">+</span> jsonFileName<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        s3<span style="color:#f92672">.</span><span style="color:#a6e22e">putObject</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> guideVideoObjectPath<span style="color:#f92672">,</span> uploadVideoFile<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        s3<span style="color:#f92672">.</span><span style="color:#a6e22e">putObject</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> jsonObjectPath<span style="color:#f92672">,</span> uploadJsonFile<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String baseUploadURL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://kr.object.ncloudstorage.com/&#34;</span> <span style="color:#f92672">+</span> bucketName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        String guideVideoURL <span style="color:#f92672">=</span> baseUploadURL <span style="color:#f92672">+</span> guideVideoObjectPath<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        String jsonURL <span style="color:#f92672">=</span> baseUploadURL <span style="color:#f92672">+</span> jsonObjectPath<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        log<span style="color:#f92672">.</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span>guideVideoURL<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        log<span style="color:#f92672">.</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span>jsonURL<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        setAcl<span style="color:#f92672">(</span>s3<span style="color:#f92672">,</span> guideVideoObjectPath<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        setAcl<span style="color:#f92672">(</span>s3<span style="color:#f92672">,</span> jsonObjectPath<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> UploadFileDTO<span style="color:#f92672">.</span><span style="color:#a6e22e">builder</span><span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">guideVideoURL</span><span style="color:#f92672">(</span>guideVideoURL<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">jsonURL</span><span style="color:#f92672">(</span>jsonURL<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">guideVideoObjectPath</span><span style="color:#f92672">(</span>guideVideoObjectPath<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">jsonObjectPath</span><span style="color:#f92672">(</span>jsonObjectPath<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>AmazonS3Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#75715e">// ACL Exception
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        log<span style="color:#f92672">.</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getErrorMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">exit</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span> <span style="color:#75715e">// ì—…ë¡œë“œ ì˜¤ë¥˜ ì‹œ null ë°˜í™˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ì—…ë¡œë“œì— ì‚¬ìš©í•œ ì„ì‹œ íŒŒì¼ì„ ì‚­ì œí•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>uploadVideoFile <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> uploadVideoFile<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>uploadJsonFile <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> uploadJsonFile<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>ë˜ ì„¤ëª…í•  ì¤‘ìš”í•œ ë¶€ë¶„ì´ ë‚¨ì•„ìˆë‹¤.</p>
<p>bucketì€ í´ë”, íŒŒì¼ ë‹¨ìœ„ë¡œ ì™¸ë¶€ì— ê³µê°œí•  ìˆ˜ ìˆëŠ” ì„¤ì • ê¶Œí•œì„ ë§¤ë²ˆ ì„¤ì •í•´ì¤˜ì•¼í•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ë©´</p>
<p><img src="/NaverCloud-ObjectStroage/img2.png" alt="í´ë” íŒŒì¼ê³µê°œ"></p>
<p>json/ ë°‘ì— ìƒê¸°ëŠ” íŒŒì¼ë“¤ì€ ìƒˆë¡œ ìƒê¸°ëŠ” íŒŒì¼ë“¤ì´ë¼ ë‹¤ì‹œ ì™¸ë¶€ì— ë¹„ê³µê°œê°€ë˜ì–´ ì´ì§“ê±°ë¦¬ë¥¼ ë§¤ë²ˆ í•´ì¤˜ì•¼í•œë‹¤.</p>
<p>ê·¸ë˜ì„œ ìƒê°í•´ë‚¸ ë°©ë²•ì´ íŒŒì¼ì„ ìƒì„±í•˜ìë§ˆì ê·¸ íŒŒì¼ì— ëŒ€í•œ ê¶Œí•œì„ ë°”ê¾¸ëŠ” ë°©ë²•ì´ë‹¤.</p>
<p>Docsë¥¼ ì°¾ì•„ë³´ë‹ˆ ACL ê¶Œí•œì„ ìˆ˜ì •í•˜ëŠ” APIê°€ ì¡´ì¬í•˜ì˜€ë‹¤.</p>
<p>í•„ìëŠ” setAcl ì´ë¼ëŠ” ë©”ì†Œë“œë¥¼ ì§€ì •í•´ì„œ s3 ì¸ìŠ¤í„´ìŠ¤ì™€ Pathë¥¼ ë„˜ê²¨ì„œ ì²˜ë¦¬í•˜ì˜€ë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setAcl</span><span style="color:#f92672">(</span>AmazonS3 s3<span style="color:#f92672">,</span> String objectPath<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    AccessControlList objectAcl <span style="color:#f92672">=</span> s3<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectAcl</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> objectPath<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    objectAcl<span style="color:#f92672">.</span><span style="color:#a6e22e">grantPermission</span><span style="color:#f92672">(</span>GroupGrantee<span style="color:#f92672">.</span><span style="color:#a6e22e">AllUsers</span><span style="color:#f92672">,</span> Permission<span style="color:#f92672">.</span><span style="color:#a6e22e">Read</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    s3<span style="color:#f92672">.</span><span style="color:#a6e22e">setObjectAcl</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> objectPath<span style="color:#f92672">,</span> objectAcl<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>ì´ëŸ°ì‹ìœ¼ë¡œ Readê¶Œí•œì„ ì„¤ì •í•´ì£¼ë©´ ë“±ë¡ í•œ í›„ ê¶Œí•œì„ ë°”ë¡œ ë°”ê¿”ì£¼ì–´ì„œ URLë¡œ Clientê°€ ë°”ë¡œ ì ‘ê·¼ê°€ëŠ¥í•˜ë‹¤.</p>
<h2 id="5-delete-api-êµ¬í˜„">5. Delete API êµ¬í˜„</h2>
<p>ë§ˆì°¬ê°€ì§€ë¡œ bucketnameê³¼ Pathë¥¼ ì´ìš©í•˜ì—¬ ì‚­ì œ ìš”ì²­ì„ í•˜ë©´ëœë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">deleteFileFromS3</span><span style="color:#f92672">(</span>String guideVideoObjectPath<span style="color:#f92672">,</span> String jsonObjectPath<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    AmazonS3 s3 <span style="color:#f92672">=</span> s3Client<span style="color:#f92672">.</span><span style="color:#a6e22e">getAmazonS3</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        s3<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteObject</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> guideVideoObjectPath<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        s3<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteObject</span><span style="color:#f92672">(</span>bucketName<span style="color:#f92672">,</span> jsonObjectPath<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        log<span style="color:#f92672">.</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Delete Object successfully&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span><span style="color:#f92672">(</span>SdkClientException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        log<span style="color:#f92672">.</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error deleteFileFromS3&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>]]></content>
        </item>
        
    </channel>
</rss>
